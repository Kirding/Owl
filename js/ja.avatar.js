$.fn.jaAvatar=function(conf){var avatarInfo={arr:{'1':1,'2':1,'3':1,'4':12,'5':1,'8':1,'10':1,'11':1,'12':8,'21':1,'23':1,'24':1,'26':1,'28':1,'30':1,'35':1,'37':1,'38':1,'39':1,'41':1,'42':1,'43':1,'44':1,'46':1,'48':1,'49':1,'50':1,'61':12,'63':10,'64':8,'65':10,'66':12,'67':15,'68':12,'69':10,'70':10,'71':10,'72':11,'74':12,'75':10,'77':7,'78':6,'79':12,'80':10,'82':15,'84':10,'91':10,'93':13,'94':14,'95':4,'96':25,'100':12,'101':12,'104':12,'108':12,'109':12,'110':12,'111':12,'112':12,'113':3,'114':3,'115':3,'117':12,'118':12,'119':12,'120':12,'121':12,'122':8,'123':8,'124':2,'125':11,'126':11,'127':10,'128':12,'129':6,'130':12,'131':12,'132':12,'133':12,'134':8,'135':12,'136':10,'137':12,'138':10,'140':15,'141':12,'142':4,'143':4,'144':4,'145':4,'146':4,'147':7,'148':7,'149':4,'150':8,'151':4,'152':13,'153':14,'154':8,'155':5,'156':8,'157':4,'158':4,'159':12,'160':12,'161':12,'162':8,'163':16,'164':8,'165':8,'166':12,'167':14,'168':6,'169':4,'170':12,'171':11,'172':8,'173':10,'174':10,'175':10,'176':15,'177':1,'178':12,'179':15,'180':8,'181':12,'182':16,'183':8,'184':1,'185':12,'186':12,'187':10,'188':12,'189':9,'190':12,'191':12,'192':10,'193':12,'194':12,'195':12,'196':12,'197':8,'198':14,'199':14,'200':12,'201':23,'202':20,'203':17,'204':8,'205':16,'206':21,'207':10,'208':6,'209':12,'210':12,'211':12,'212':1,'213':1,'214':1,'215':1,'216':1,'217':1,'218':1,'219':1,'220':1,'221':1,'222':1,'223':1,'224':1,'225':15,'226':6,'227':1,'228':28,'229':12,'230':14,'231':12,'232':9,'233':10,'234':8,'235':12,'236':10,'237':12,'238':8,'239':12,'240':12,'241':40,'242':40,'243':40,'244':40,'255':40,'256':40,'257':40,'258':40,'259':40,'260':15,'261':8,'262':8,'263':40,'264':1,'265':1,'266':1,'267':1,'268':9,'269':9,'270':6,'271':1,'272':12,'273':15,'274':12,'275':15,'276':12,'277':12,'278':10,'279':10,'280':10,'281':4,'282':12,'283':12,'284':12,'285':12,'286':12,'287':1,'288':14,'289':5,'290':12,'291':8,'292':12,'293':10,'294':21,'295':12,'296':24,'297':8,'298':16,'299':1,'300':10,'301':10,'302':12,'303':15,'304':12,'305':13,'306':12,'307':14,'308':15,'309':10,'310':10,'312':11,'313':12,'314':12,'315':12,'316':12,'317':8,'318':10,'319':5,'320':8,'321':10,'322':12,'323':8,'324':6,'325':16,'326':16,'327':20,'328':20,'329':13,'330':12,'332':12,'333':1,'334':12,'335':12,'336':12,'337':12,'338':20,'339':16,'340':16,'341':20,'342':21,'343':8,'344':20,'345':24,'346':12,'347':20,'348':20,'349':19,'350':20,'351':20,'352':12,'353':12,'355':12,'356':12,'357':12,'358':14,'359':3,'360':12,'361':15,'399':21},n:0},_conf={path:'//cdn.asilu.com/img/',animation:false,min:false,data:'avatar-id',left:0,top:0,all:true,arr:[1,2,3,4,5,8,10,11,12,21,23,24,26,28,30,35,37,38,39,41,42,43,44,46,48,49,50,61,63,64,65,66,67,68,69,70,71,72,74,75,77,78,79,80,82,84,91,93,94,95,96,100,101,104,108,109,110,111,112,113,114,115,117,168,241,242,243,244,255,256,257,258,259,260,261,262,263],speed:300};if(typeof conf=='object')
_conf=$.extend({},_conf,conf);else if(typeof conf=='boolean')
_conf.animation=conf;_conf.path+=_conf.animation?'avatar-big/':'avatar-type/';this.each(function(){var $t=$(this),w=$t.width(),avatar_id=$t.data(_conf.data);if(typeof avatar_id=='undefined'){if(!_conf.all)return;if(avatarInfo.n<3&&_conf.min){avatar_id=_conf.min;}else{avatar_id=_conf.arr[(avatarInfo.n%_conf.arr.length)]}
avatarInfo.n++;}
avatar_n=avatarInfo.arr[avatar_id]||1;if(!_conf.animation)avatar_n=1;$t.parent().css('position','relative');if($t.siblings('.avatar-type').length>0){$t.siblings('.avatar-type').attr('background-image','url('+_conf.path+avatar_id+'.png)');return;}
bg_w=w*1.3;bg_h=bg_w / 188*222;var pos=$t.position(),top=pos.top-bg_w / 3.5+_conf.top,left=pos.left-bg_h / 10+_conf.left,$img=$('<div>').addClass('avatar-type').css({'background-image':'url('+_conf.path+avatar_id+'.png)',top:top+'px',left:left+'px',width:bg_w+'px',height:bg_h+'px',position:'absolute','pointer-events':'none','background-size':bg_w*avatar_n+'px '+bg_h+'px'})
$img[0].num=avatar_n;$img[0].now=0;$img[0].bg_w=bg_w;$img[0].bg_h=bg_h;$t.css('border-radius','50%').parent().css('position','relative').append($img)});if(_conf.animation&&typeof(window.jaAvatar)=='undefined'){setInterval(function(){animation();},_conf.speed);window.jaAvatar=true;}
function animation(){$('.avatar-type').each(function(){if(this.num<2)return;$(this).css({'background-position':-this.now*this.bg_w+'px 0px'});this.now=(this.now<this.num-1?this.now+1:0);});}}
